import 'wicg-inert';

const styleForFixed = {
  height: '100vh',
  left: '0',
  overflow: 'hidden',
  position: 'fixed',
  width: '100vw'
};

const scrollingElement = (() => {
  const ua = window.navigator.userAgent.toLowerCase();
  if ('scrollingElement' in document) return document.scrollingElement;
  if (ua.indexOf('webkit') > 0) return document.body;
  return document.documentElement;
})();

function fixBackface(fixed) {
  const scrollY = fixed ? scrollingElement.scrollTop : parseInt(document.body.style.top) ?? 0;
  const scrollbarWidth = window.innerWidth - document.body.clientWidth;
  document.body.style.top = fixed ? `-${scrollingElement.scrollTop}px` : '';
  document.body.style.paddingRight = fixed ? `${scrollbarWidth}px` : '';
  Object.keys(styleForFixed).forEach(key => {
    if (fixed) {
      document.body.style.setProperty(key, styleForFixed[key]);
    } else {
      document.body.style.removeProperty(key);
    }
  });
  if (!fixed) scrollingElement.scrollTop = scrollY * -1;
}

class Drawer {
  constructor(args) {
    this.isExpanded = false;
    this.enableFixBackface = true;
    this.enableHistory = false;
    this.id = 'Drawer-' + new Date().getTime(); // Drawer body

    if (typeof args !== 'object' || args.drawer === undefined) throw new Error(`${this.constructor.name}: The "drawer" parameter is required. => ex: new Drawer({ drawer: '#drawer' })`);
    if (typeof args.drawer !== 'string' || '') throw new Error(`${this.constructor.name}: The "drawer" parameter must be "string" type and "CSS selector".`);
    if (args.drawer === '') throw new Error(`${this.constructor.name}: The "drawer" parameter is empty.`);
    this.drawerElement = document.querySelector(args.drawer);
    if (!this.drawerElement) throw new Error(`${this.constructor.name}: The Element for "drawer" is not found.`);
    this.drawerElement.setAttribute('data-drawer-is-initialized', 'true');

    if (this.drawerElement.id) {
      this.id = this.drawerElement.id;
    } else {
      this.drawerElement.id = this.id;
    }

    if (this.isExpanded) {
      this.drawerElement.removeAttribute('inert');
      this.drawerElement.removeAttribute('hidden');
    } else {
      this.drawerElement.setAttribute('inert', '');
      this.drawerElement.setAttribute('hidden', '');
    } // Switches for toggle


    this.switchElements = typeof args.switch === 'string' ? document.querySelectorAll(args.switch) : null;

    if (this.switchElements) {
      this.switchElements.forEach(element => {
        element.addEventListener('click', this.toggle.bind(this));
        element.setAttribute('data-drawer-is', 'initialized');
        element.setAttribute('aria-controls', this.id);
      });
    } // Elements that are set "inert" attribute when the drawer is expanded


    this.inertElements = typeof args.inert === 'string' ? document.querySelectorAll(args.inert) : null;

    if (this.inertElements) {
      this.inertElements.forEach(element => {
        element.setAttribute('data-drawer-is', 'initialized');

        if (this.isExpanded) {
          element.setAttribute('inert', '');
        } else {
          element.removeAttribute('inert');
        }
      });
    } // Preventing scroll when the drawer is expanded


    this.enableFixBackface = args.enableFixBackface ?? true; // Adding the state of the drawer to the history of your browser

    if (args.enableHistory) {
      this.enableHistory = true;
      window.addEventListener('popstate', this._popstateHandler.bind(this));
    }
  }

  toggle(event) {
    event.preventDefault();

    if (this.isExpanded) {
      this.close();
    } else {
      this.open();
    }
  }

  open() {
    this._changeState(true);

    if (this.enableHistory) this._pushState(true);
  }

  close() {
    this._changeState(false);

    if (this.enableHistory) this._pushState(false);
  }

  _changeState(isExpanded) {
    if (isExpanded) {
      var _this$drawerElement, _this$drawerElement2;

      (_this$drawerElement = this.drawerElement) === null || _this$drawerElement === void 0 ? void 0 : _this$drawerElement.removeAttribute('inert');
      (_this$drawerElement2 = this.drawerElement) === null || _this$drawerElement2 === void 0 ? void 0 : _this$drawerElement2.removeAttribute('hidden');
      document.addEventListener('keyup', this._keyupHandler.bind(this));
    } else {
      var _this$drawerElement3, _this$drawerElement4;

      // When the drawer is hidden
      (_this$drawerElement3 = this.drawerElement) === null || _this$drawerElement3 === void 0 ? void 0 : _this$drawerElement3.setAttribute('inert', '');
      (_this$drawerElement4 = this.drawerElement) === null || _this$drawerElement4 === void 0 ? void 0 : _this$drawerElement4.setAttribute('hidden', '');
      document.removeEventListener('keyup', this._keyupHandler.bind(this));
    }

    if (typeof fixBackface === 'function' && this.enableFixBackface) fixBackface(isExpanded);

    if (this.switchElements) {
      this.switchElements.forEach(element => {
        element.setAttribute('aria-expanded', String(isExpanded));
      });
    }

    if (this.inertElements) {
      this.inertElements.forEach(element => {
        if (isExpanded) {
          element.setAttribute('inert', '');
        } else {
          element.removeAttribute('inert');
        }
      });
    }

    this.isExpanded = isExpanded;
  }

  _keyupHandler(event) {
    if (event.key === 'Escape' || event.key === 'Esc') this.close();
  }

  _popstateHandler(event) {
    this._changeState(!this.isExpanded);
  }

  _pushState(isExpanded) {
    history.pushState({
      isExpanded: isExpanded
    }, 'drawerState');
  }

}

export default Drawer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZHJhd2VyLW1vZHVsZS5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3RzL2ZpeC1iYWNrZmFjZS50cyIsIi4uL3NyYy90cy9kcmF3ZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc3R5bGVGb3JGaXhlZDoge1xuICBba2V5OiBzdHJpbmddOiBzdHJpbmdcbn0gPSB7XG4gIGhlaWdodDogJzEwMHZoJyxcbiAgbGVmdDogJzAnLFxuICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIHBvc2l0aW9uOiAnZml4ZWQnLFxuICB3aWR0aDogJzEwMHZ3Jyxcbn1cblxuY29uc3Qgc2Nyb2xsaW5nRWxlbWVudDogRWxlbWVudCA9ICgoKSA9PiB7XG4gIGNvbnN0IHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKVxuICBpZiAoJ3Njcm9sbGluZ0VsZW1lbnQnIGluIGRvY3VtZW50KSByZXR1cm4gZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudCFcbiAgaWYgKHVhLmluZGV4T2YoJ3dlYmtpdCcpID4gMCkgcmV0dXJuIGRvY3VtZW50LmJvZHkhXG4gIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQhXG59KSgpIVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmaXhCYWNrZmFjZShmaXhlZDogYm9vbGVhbikge1xuICBjb25zdCBzY3JvbGxZOm51bWJlciA9IGZpeGVkID8gc2Nyb2xsaW5nRWxlbWVudC5zY3JvbGxUb3AgOiBwYXJzZUludChkb2N1bWVudC5ib2R5LnN0eWxlLnRvcCkgPz8gMFxuICBjb25zdCBzY3JvbGxiYXJXaWR0aDpudW1iZXIgPSB3aW5kb3cuaW5uZXJXaWR0aCAtIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGhcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS50b3AgPSBmaXhlZCA/IGAtJHtzY3JvbGxpbmdFbGVtZW50LnNjcm9sbFRvcH1weGAgOiAnJ1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodCA9IGZpeGVkID8gYCR7c2Nyb2xsYmFyV2lkdGh9cHhgIDogJydcbiAgT2JqZWN0LmtleXMoc3R5bGVGb3JGaXhlZCkuZm9yRWFjaChrZXkgPT4ge1xuICAgIGlmIChmaXhlZCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHN0eWxlRm9yRml4ZWRba2V5XSlcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShrZXkpXG4gICAgfVxuICB9KVxuICBpZiAoIWZpeGVkKSBzY3JvbGxpbmdFbGVtZW50LnNjcm9sbFRvcCA9IHNjcm9sbFkgKiAtMVxufVxuIiwiaW1wb3J0IGZpeEJhY2tmYWNlIGZyb20gJy4vZml4LWJhY2tmYWNlLmpzJ1xuaW1wb3J0ICd3aWNnLWluZXJ0JztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYXdlciB7XG4gIHB1YmxpYyBkcmF3ZXJFbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGxcbiAgcHVibGljIHN3aXRjaEVsZW1lbnRzPzogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gfCBudWxsXG4gIHB1YmxpYyBpbmVydEVsZW1lbnRzPzogTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4gfCBudWxsXG4gIHB1YmxpYyBpc0V4cGFuZGVkOiBib29sZWFuID0gZmFsc2VcbiAgcHVibGljIGVuYWJsZUZpeEJhY2tmYWNlOmJvb2xlYW4gPSB0cnVlXG4gIHB1YmxpYyBlbmFibGVIaXN0b3J5OiBib29sZWFuID0gZmFsc2VcbiAgcHVibGljIGlkOiBzdHJpbmcgPSAnRHJhd2VyLScgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuXG4gIGNvbnN0cnVjdG9yKGFyZ3M6IHtcbiAgICBkcmF3ZXI6IHN0cmluZ1xuICAgIHN3aXRjaD86IHN0cmluZ1xuICAgIGluZXJ0Pzogc3RyaW5nXG4gICAgZW5hYmxlRml4QmFja2ZhY2U/OiBib29sZWFuXG4gICAgZW5hYmxlSGlzdG9yeT86IGJvb2xlYW5cbiAgfSkge1xuICAgIC8vIERyYXdlciBib2R5XG4gICAgaWYgKHR5cGVvZiBhcmdzICE9PSAnb2JqZWN0JyB8fCBhcmdzLmRyYXdlciA9PT0gdW5kZWZpbmVkKSB0aHJvdyBuZXcgRXJyb3IoYCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfTogVGhlIFwiZHJhd2VyXCIgcGFyYW1ldGVyIGlzIHJlcXVpcmVkLiA9PiBleDogbmV3IERyYXdlcih7IGRyYXdlcjogJyNkcmF3ZXInIH0pYClcbiAgICBpZiAodHlwZW9mIGFyZ3MuZHJhd2VyICE9PSAnc3RyaW5nJyB8fCAnJyApIHRocm93IG5ldyBFcnJvcihgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9OiBUaGUgXCJkcmF3ZXJcIiBwYXJhbWV0ZXIgbXVzdCBiZSBcInN0cmluZ1wiIHR5cGUgYW5kIFwiQ1NTIHNlbGVjdG9yXCIuYClcbiAgICBpZiAoYXJncy5kcmF3ZXIgPT09ICcnICkgdGhyb3cgbmV3IEVycm9yKGAke3RoaXMuY29uc3RydWN0b3IubmFtZX06IFRoZSBcImRyYXdlclwiIHBhcmFtZXRlciBpcyBlbXB0eS5gKVxuICAgIHRoaXMuZHJhd2VyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXJncy5kcmF3ZXIpXG4gICAgaWYgKCF0aGlzLmRyYXdlckVsZW1lbnQpIHRocm93IG5ldyBFcnJvcihgJHt0aGlzLmNvbnN0cnVjdG9yLm5hbWV9OiBUaGUgRWxlbWVudCBmb3IgXCJkcmF3ZXJcIiBpcyBub3QgZm91bmQuYClcbiAgICB0aGlzLmRyYXdlckVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRyYXdlci1pcy1pbml0aWFsaXplZCcsICd0cnVlJylcbiAgICBpZiAodGhpcy5kcmF3ZXJFbGVtZW50LmlkKSB7XG4gICAgICB0aGlzLmlkID0gdGhpcy5kcmF3ZXJFbGVtZW50LmlkXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZHJhd2VyRWxlbWVudC5pZCA9IHRoaXMuaWRcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNFeHBhbmRlZCkge1xuICAgICAgdGhpcy5kcmF3ZXJFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnaW5lcnQnKVxuICAgICAgdGhpcy5kcmF3ZXJFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnaGlkZGVuJylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kcmF3ZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgnaW5lcnQnLCAnJylcbiAgICAgIHRoaXMuZHJhd2VyRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKVxuICAgIH1cblxuICAgIC8vIFN3aXRjaGVzIGZvciB0b2dnbGVcbiAgICB0aGlzLnN3aXRjaEVsZW1lbnRzID0gdHlwZW9mIGFyZ3Muc3dpdGNoID09PSAnc3RyaW5nJyA/XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGFyZ3Muc3dpdGNoKSA6IG51bGxcbiAgICBpZiAodGhpcy5zd2l0Y2hFbGVtZW50cykge1xuICAgICAgdGhpcy5zd2l0Y2hFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGUuYmluZCh0aGlzKSlcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZHJhd2VyLWlzJywgJ2luaXRpYWxpemVkJylcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCB0aGlzLmlkKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyBFbGVtZW50cyB0aGF0IGFyZSBzZXQgXCJpbmVydFwiIGF0dHJpYnV0ZSB3aGVuIHRoZSBkcmF3ZXIgaXMgZXhwYW5kZWRcbiAgICB0aGlzLmluZXJ0RWxlbWVudHMgPSB0eXBlb2YgYXJncy5pbmVydCA9PT0gJ3N0cmluZycgP1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChhcmdzLmluZXJ0KSA6IG51bGxcbiAgICBpZiAodGhpcy5pbmVydEVsZW1lbnRzKSB7XG4gICAgICB0aGlzLmluZXJ0RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZHJhd2VyLWlzJywgJ2luaXRpYWxpemVkJylcbiAgICAgICAgaWYgKHRoaXMuaXNFeHBhbmRlZCkge1xuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdpbmVydCcsICcnKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdpbmVydCcpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gUHJldmVudGluZyBzY3JvbGwgd2hlbiB0aGUgZHJhd2VyIGlzIGV4cGFuZGVkXG4gICAgdGhpcy5lbmFibGVGaXhCYWNrZmFjZSA9IGFyZ3MuZW5hYmxlRml4QmFja2ZhY2UgPz8gdHJ1ZVxuXG4gICAgLy8gQWRkaW5nIHRoZSBzdGF0ZSBvZiB0aGUgZHJhd2VyIHRvIHRoZSBoaXN0b3J5IG9mIHlvdXIgYnJvd3NlclxuICAgIGlmIChhcmdzLmVuYWJsZUhpc3RvcnkpIHtcbiAgICAgIHRoaXMuZW5hYmxlSGlzdG9yeSA9IHRydWVcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHRoaXMuX3BvcHN0YXRlSGFuZGxlci5iaW5kKHRoaXMpKVxuICAgIH1cblxuICB9XG4gIHRvZ2dsZShldmVudDogRXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKHRoaXMuaXNFeHBhbmRlZCkge1xuICAgICAgdGhpcy5jbG9zZSgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMub3BlbigpXG4gICAgfVxuICB9XG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fY2hhbmdlU3RhdGUodHJ1ZSlcbiAgICBpZiAodGhpcy5lbmFibGVIaXN0b3J5KSB0aGlzLl9wdXNoU3RhdGUodHJ1ZSlcbiAgfVxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9jaGFuZ2VTdGF0ZShmYWxzZSlcbiAgICBpZiAodGhpcy5lbmFibGVIaXN0b3J5KSB0aGlzLl9wdXNoU3RhdGUoZmFsc2UpXG4gIH1cbiAgcHJpdmF0ZSBfY2hhbmdlU3RhdGUoaXNFeHBhbmRlZDogYm9vbGVhbikge1xuICAgIGlmIChpc0V4cGFuZGVkKSB7XG4gICAgICB0aGlzLmRyYXdlckVsZW1lbnQ/LnJlbW92ZUF0dHJpYnV0ZSgnaW5lcnQnKVxuICAgICAgdGhpcy5kcmF3ZXJFbGVtZW50Py5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2tleXVwSGFuZGxlci5iaW5kKHRoaXMpKVxuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdoZW4gdGhlIGRyYXdlciBpcyBoaWRkZW5cbiAgICAgIHRoaXMuZHJhd2VyRWxlbWVudD8uc2V0QXR0cmlidXRlKCdpbmVydCcsICcnKVxuICAgICAgdGhpcy5kcmF3ZXJFbGVtZW50Py5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKVxuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9rZXl1cEhhbmRsZXIuYmluZCh0aGlzKSlcbiAgICB9XG5cbiAgICBpZiAoIHR5cGVvZiBmaXhCYWNrZmFjZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLmVuYWJsZUZpeEJhY2tmYWNlICkgZml4QmFja2ZhY2UoaXNFeHBhbmRlZClcblxuICAgIGlmICh0aGlzLnN3aXRjaEVsZW1lbnRzKSB7XG4gICAgICB0aGlzLnN3aXRjaEVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgU3RyaW5nKGlzRXhwYW5kZWQpKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pbmVydEVsZW1lbnRzKSB7XG4gICAgICB0aGlzLmluZXJ0RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgaWYgKGlzRXhwYW5kZWQpIHtcbiAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnaW5lcnQnLCAnJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnaW5lcnQnKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuaXNFeHBhbmRlZCA9IGlzRXhwYW5kZWRcbiAgfVxuICBwcml2YXRlIF9rZXl1cEhhbmRsZXIoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJyB8fCBldmVudC5rZXkgPT09ICdFc2MnKSB0aGlzLmNsb3NlKClcbiAgfVxuICBwcml2YXRlIF9wb3BzdGF0ZUhhbmRsZXIoZXZlbnQ6IFBvcFN0YXRlRXZlbnQpIHtcbiAgICB0aGlzLl9jaGFuZ2VTdGF0ZSghdGhpcy5pc0V4cGFuZGVkKTtcbiAgfVxuICBwcml2YXRlIF9wdXNoU3RhdGUoaXNFeHBhbmRlZDogYm9vbGVhbikge1xuICAgIGhpc3RvcnkucHVzaFN0YXRlKHtcbiAgICAgIGlzRXhwYW5kZWQ6IGlzRXhwYW5kZWRcbiAgICB9LCAnZHJhd2VyU3RhdGUnKVxuICB9XG59Il0sIm5hbWVzIjpbInN0eWxlRm9yRml4ZWQiLCJoZWlnaHQiLCJsZWZ0Iiwib3ZlcmZsb3ciLCJwb3NpdGlvbiIsIndpZHRoIiwic2Nyb2xsaW5nRWxlbWVudCIsInVhIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJkb2N1bWVudCIsImluZGV4T2YiLCJib2R5IiwiZG9jdW1lbnRFbGVtZW50IiwiZml4QmFja2ZhY2UiLCJmaXhlZCIsInNjcm9sbFkiLCJzY3JvbGxUb3AiLCJwYXJzZUludCIsInN0eWxlIiwidG9wIiwic2Nyb2xsYmFyV2lkdGgiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJwYWRkaW5nUmlnaHQiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInNldFByb3BlcnR5IiwicmVtb3ZlUHJvcGVydHkiLCJEcmF3ZXIiLCJjb25zdHJ1Y3RvciIsImFyZ3MiLCJEYXRlIiwiZ2V0VGltZSIsImRyYXdlciIsInVuZGVmaW5lZCIsIkVycm9yIiwibmFtZSIsImRyYXdlckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic2V0QXR0cmlidXRlIiwiaWQiLCJpc0V4cGFuZGVkIiwicmVtb3ZlQXR0cmlidXRlIiwic3dpdGNoRWxlbWVudHMiLCJzd2l0Y2giLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGUiLCJiaW5kIiwiaW5lcnRFbGVtZW50cyIsImluZXJ0IiwiZW5hYmxlRml4QmFja2ZhY2UiLCJlbmFibGVIaXN0b3J5IiwiX3BvcHN0YXRlSGFuZGxlciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjbG9zZSIsIm9wZW4iLCJfY2hhbmdlU3RhdGUiLCJfcHVzaFN0YXRlIiwiX2tleXVwSGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJTdHJpbmciLCJoaXN0b3J5IiwicHVzaFN0YXRlIl0sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU1BLGFBQWEsR0FFZjtBQUNGQyxFQUFBQSxNQUFNLEVBQUUsT0FETjtBQUVGQyxFQUFBQSxJQUFJLEVBQUUsR0FGSjtBQUdGQyxFQUFBQSxRQUFRLEVBQUUsUUFIUjtBQUlGQyxFQUFBQSxRQUFRLEVBQUUsT0FKUjtBQUtGQyxFQUFBQSxLQUFLLEVBQUU7QUFMTCxDQUZKOztBQVVBLE1BQU1DLGdCQUFnQixHQUFZLENBQUM7QUFDakMsUUFBTUMsRUFBRSxHQUFHQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJDLFNBQWpCLENBQTJCQyxXQUEzQixFQUFYO0FBQ0EsTUFBSSxzQkFBc0JDLFFBQTFCLEVBQW9DLE9BQU9BLFFBQVEsQ0FBQ04sZ0JBQWhCO0FBQ3BDLE1BQUlDLEVBQUUsQ0FBQ00sT0FBSCxDQUFXLFFBQVgsSUFBdUIsQ0FBM0IsRUFBOEIsT0FBT0QsUUFBUSxDQUFDRSxJQUFoQjtBQUM5QixTQUFPRixRQUFR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
