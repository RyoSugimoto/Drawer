var Drawer=function(){"use strict";const e={height:"100vh",left:"0",overflow:"hidden",position:"fixed",width:"100vw"},t=(()=>{const e=window.navigator.userAgent.toLowerCase();return"scrollingElement"in document?document.scrollingElement:e.indexOf("webkit")>0?document.body:document.documentElement})();function i(i){const r=i?t.scrollTop:parseInt(document.body.style.top)??0,n=window.innerWidth-document.body.clientWidth;document.body.style.top=i?`-${t.scrollTop}px`:"",document.body.style.paddingRight=i?`${n}px`:"",Object.keys(e).forEach((t=>{i?document.body.style.setProperty(t,e[t]):document.body.style.removeProperty(t)})),i||(t.scrollTop=-1*r)}return class{constructor(e){if(this.isExpanded=!1,this.enableFixBackface=!0,this.enableHistory=!1,this.id="Drawer-"+(new Date).getTime(),"object"!=typeof e||void 0===e.drawer)throw new Error(`${this.constructor.name}: The "drawer" parameter is required. => ex: new Drawer({ drawer: '#drawer' })`);if("string"!=typeof e.drawer)throw new Error(`${this.constructor.name}: The "drawer" parameter must be "string" type and "CSS selector".`);if(""===e.drawer)throw new Error(`${this.constructor.name}: The "drawer" parameter is empty.`);if(this.drawerElement=document.querySelector(e.drawer),!this.drawerElement)throw new Error(`${this.constructor.name}: The Element for "drawer" is not found.`);this.drawerElement.setAttribute("data-drawer-is-initialized","true"),this.drawerElement.id?this.id=this.drawerElement.id:this.drawerElement.id=this.id,this.isExpanded?(this.drawerElement.removeAttribute("inert"),this.drawerElement.removeAttribute("hidden")):(this.drawerElement.setAttribute("inert",""),this.drawerElement.setAttribute("hidden","")),this.switchElements="string"==typeof e.switch?document.querySelectorAll(e.switch):null,this.switchElements&&this.switchElements.forEach((e=>{e.addEventListener("click",this.toggle.bind(this)),e.setAttribute("data-drawer-is","initialized"),e.setAttribute("aria-controls",this.id)})),this.inertElements="string"==typeof e.inert?document.querySelectorAll(e.inert):null,this.inertElements&&this.inertElements.forEach((e=>{e.setAttribute("data-drawer-is","initialized"),this.isExpanded?e.setAttribute("inert",""):e.removeAttribute("inert")})),this.enableFixBackface=e.enableFixBackface??!0,e.enableHistory&&(this.enableHistory=!0,window.addEventListener("popstate",this._popstateHandler.bind(this)))}toggle(e){e.preventDefault(),this.isExpanded?this.close():this.open()}open(){this._changeState(!0),this.enableHistory&&this._pushState(!0)}close(){this._changeState(!1),this.enableHistory&&this._pushState(!1)}_changeState(e){var t,r,n,s;e?(null===(t=this.drawerElement)||void 0===t||t.removeAttribute("inert"),null===(r=this.drawerElement)||void 0===r||r.removeAttribute("hidden"),document.addEventListener("keyup",this._keyupHandler.bind(this))):(null===(n=this.drawerElement)||void 0===n||n.setAttribute("inert",""),null===(s=this.drawerElement)||void 0===s||s.setAttribute("hidden",""),document.removeEventListener("keyup",this._keyupHandler.bind(this)));this.enableFixBackface&&i(e),this.switchElements&&this.switchElements.forEach((t=>{t.setAttribute("aria-expanded",String(e))})),this.inertElements&&this.inertElements.forEach((t=>{e?t.setAttribute("inert",""):t.removeAttribute("inert")})),this.isExpanded=e}_keyupHandler(e){"Escape"!==e.key&&"Esc"!==e.key||this.close()}_popstateHandler(e){this._changeState(!this.isExpanded)}_pushState(e){history.pushState({isExpanded:e},"drawerState")}}}();
